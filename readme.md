## NER中医药识别

## CRF or > no CRF?
只需要将CRF转移矩阵设置为固定相同的值（比如全部初始化为1），并且训练时不更新该矩阵的参数即可。

## 分数记录
roberta+crf：0.7248
roberta+crf+kfolds(5/10)：0.7589

## 经验
+ 预测结果保存到对应的模型参数目录下
+ 交叉验证？

## 数据的坑
+ 标签类别不一致问题：
('DISEASE', '136', '138', '肾病')
('DISEASE_GROUP', '238', '240', '肾病')
('DISEASE_GROUP', '99', '101', '肾病')
('DISEASE_GROUP', '273', '275', '肾病')
('DISEASE_GROUP', '177', '179', '肾病')
('DISEASE_GROUP', '92', '94', '肾病')
('DISEASE_GROUP', '125', '127', '肾病')
('DISEASE_GROUP', '161', '163', '肾病')
('DISEASE_GROUP', '189', '191', '肾病')
('DISEASE_GROUP', '134', '136', '肾病')
('DISEASE_GROUP', '80', '82', '肾病')
('DISEASE_GROUP', '98', '100', '肾病')
('DISEASE_GROUP', '90', '92', '肾病')
('DISEASE', '154', '156', '肾病')
('DISEASE_GROUP', '646', '648', '肾病')
('DISEASE_GROUP', '515', '517', '肾病')
('DISEASE_GROUP', '588', '590', '肾病')
('DISEASE_GROUP', '83', '85', '肾病')
('DISEASE_GROUP', '64', '66', '肾病')

+ 实体拆分组合不一致问题，错误样例中，较多实体可以被拆分为多个。
999.ann	pred:	('PERSON_GROUP', '192', '197', '青春期少女')	true	('PERSON_GROUP', '195', '197', '少女')
999.ann	pred:	('SYMPTOM', '220', '222', '腹痛')	true	('SYMPTOM', '217', '222', '流产后腹痛')
999.ann	pred:	('SYMPTOM', '113', '117', '疲乏无力')	true	('SYMPTOM', '113', '115', '疲乏')
999.ann	pred:	('PERSON_GROUP', '198', '203', '更年期妇女')	true	('PERSON_GROUP', '201', '203', '妇女')
999.ann	pred:	('SYMPTOM', '108', '112', '头晕心悸')	true	('SYMPTOM', '110', '112', '心悸')
999.ann	pred:	('SYMPTOM', '108', '112', '头晕心悸')	true	('SYMPTOM', '108', '110', '头晕')
458.ann	pred:	('DRUG_TASTE', '447', '450', '稍苦甘')	true	('DRUG_TASTE', '447', '449', '稍苦')
829.ann	pred:	('SYMPTOM', '618', '622', '脘闷纳呆')	true	('SYMPTOM', '620', '622', '纳呆')
829.ann	pred:	('SYMPTOM', '618', '622', '脘闷纳呆')	true	('SYMPTOM', '618', '620', '脘闷')
829.ann	pred:	('FOOD_GROUP', '78', '80', '油腻')	true	('FOOD_GROUP', '78', '82', '油腻食物')
829.ann	pred:	('SYMPTOM', '613', '617', '口苦粘腻')	true	('SYMPTOM', '613', '615', '口苦')
998.ann	pred:	('SYMPTOM', '19', '23', '恶露不行')	true	('SYMPTOM', '17', '23', '产后恶露不行')
998.ann	pred:	('SYMPTOM', '96', '100', '恶露不行')	true	('SYMPTOM', '94', '100', '产后恶露不行')
990.ann	pred:	('FOOD_GROUP', '81', '83', '生冷')	true	('FOOD_GROUP', '81', '85', '生冷食物')
24.ann	pred:	('SYNDROME', '175', '179', '气滞血瘀')	true	('SYNDROME', '175', '177', '气滞')
24.ann	pred:	('SYNDROME', '175', '179', '气滞血瘀')	true	('SYNDROME', '177', '179', '血瘀')
952.ann	pred:	('SYMPTOM', '478', '482', '小腹胀痛')	true	('SYMPTOM', '480', '482', '胀痛')
979.ann	pred:	('SYMPTOM', '82', '89', '妊娠后漏下不止')	true	('SYMPTOM', '82', '87', '妊娠后漏下')
979.ann	pred:	('SYMPTOM', '113', '117', '宿有瘕块')	true	('SYMPTOM', '115', '117', '瘕块')
10.ann	pred:	('SYNDROME', '93', '97', '气滞血瘀')	true	('SYNDROME', '95', '97', '血瘀')
10.ann	pred:	('SYNDROME', '93', '97', '气滞血瘀')	true	('SYNDROME', '93', '95', '气滞')
10.ann	pred:	('SYNDROME', '98', '102', '湿热蕴结')	true	('SYNDROME', '98', '100', '湿热')
476.ann	pred:	('SYNDROME', '64', '68', '肾虚挟湿')	true	('SYNDROME', '64', '66', '肾虚')
447.ann	pred:	('SYMPTOM', '42', '46', '腹胀腹痛')	true	('SYMPTOM', '44', '46', '腹痛')
667.ann	pred:	('SYNDROME', '74', '78', '气血虚弱')	true	('SYNDROME', '75', '78', '血虚弱')
866.ann	pred:	('DRUG_EFFICACY', '201', '206', '滋阴补肝肾')	true	('DRUG_EFFICACY', '201', '203', '滋阴')
866.ann	pred:	('SYMPTOM', '231', '235', '肌肉酸胀')	true	('SYMPTOM', '233', '235', '酸胀')
893.ann	pred:	('DRUG_EFFICACY', '309', '313', '抗炎止痛')	true	('DRUG_EFFICACY', '311', '313', '止痛')
410.ann	pred:	('FOOD_GROUP', '103', '105', '刺激')	true	('FOOD_GROUP', '101', '105', '辛辣刺激')
410.ann	pred:	('FOOD_GROUP', '101', '103', '辛辣')	true	('FOOD_GROUP', '101', '105', '辛辣刺激')
892.ann	pred:	('SYMPTOM', '33', '39', '胃肠溃疡出血')	true	('SYMPTOM', '33', '37', '胃肠溃疡')
892.ann	pred:	('SYMPTOM', '56', '62', '小腹胀满疼痛')	true	('SYMPTOM', '56', '60', '小腹胀满')
288.ann	pred:	('DISEASE_GROUP', '211', '213', '肾病')	true	('DISEASE_GROUP', '207', '213', '男女一切肾病')
823.ann	pred:	('SYMPTOM', '279', '283', '抑郁气滞')	true	('SYMPTOM', '281', '283', '气滞')
823.ann	pred:	('SYMPTOM', '275', '279', '久不受孕')	true	('SYMPTOM', '276', '279', '不受孕')
905.ann	pred:	('SYMPTOM', '198', '202', '烘热汗出')	true	('SYMPTOM', '198', '200', '烘热')
905.ann	pred:	('SYMPTOM', '198', '202', '烘热汗出')	true	('SYMPTOM', '200', '202', '汗出')
910.ann	pred:	('SYMPTOM', '201', '207', '血色紫黯成块')	true	('SYMPTOM', '201', '205', '血色紫黯')
956.ann	pred:	('DRUG_DOSAGE', '179', '183', '软胶囊剂')	true	('DRUG_DOSAGE', '180', '183', '胶囊剂')
308.ann	pred:	('SYMPTOM', '342', '346', '头发脱落')	true	('SYMPTOM', '344', '346', '脱落')
100.ann	pred:	('SYMPTOM', '345', '349', '附有癥块')	true	('SYMPTOM', '346', '349', '有癥块')
100.ann	pred:	('SYNDROME', '305', '309', '气血血瘀')	true	('SYNDROME', '305', '307', '气血')
100.ann	pred:	('SYNDROME', '305', '309', '气血血瘀')	true	('SYNDROME', '307', '309', '血瘀')
100.ann	pred:	('SYNDROME', '233', '237', '气虚血瘀')	true	('SYNDROME', '235', '237', '血瘀')
100.ann	pred:	('SYNDROME', '233', '237', '气虚血瘀')	true	('SYNDROME', '233', '235', '气虚')
825.ann	pred:	('SYMPTOM', '377', '381', '腹有癥块')	true	('SYMPTOM', '377', '380', '腹有癥')
825.ann	pred:	('SYMPTOM', '45', '49', '行经腹痛')	true	('SYMPTOM', '47', '49', '腹痛')
825.ann	pred:	('DRUG_DOSAGE', '183', '186', '硬胶囊')	true	('DRUG_DOSAGE', '184', '186', '胶囊')
825.ann	pred:	('DRUG_TASTE', '201', '204', '气微香')	true	('DRUG_TASTE', '202', '204', '微香')
450.ann	pred:	('DISEASE_GROUP', '159', '163', '男女肾病')	true	('DISEASE_GROUP', '161', '163', '肾病')
351.ann	pred:	('SYNDROME', '42', '46', '气滞血瘀')	true	('SYNDROME', '42', '44', '气滞')
351.ann	pred:	('SYNDROME', '42', '46', '气滞血瘀')	true	('SYNDROME', '44', '46', '血瘀')
964.ann	pred:	('DISEASE', '211', '216', '慢性盆腔炎')	true	('DISEASE', '213', '216', '盆腔炎')
964.ann	pred:	('SYMPTOM', '217', '221', '下腹胀痛')	true	('SYMPTOM', '219', '221', '胀痛')
55.ann	pred:	('SYNDROME', '286', '290', '血虚肝郁')	true	('SYNDROME', '288', '290', '肝郁')
55.ann	pred:	('SYNDROME', '286', '290', '血虚肝郁')	true	('SYNDROME', '286', '288', '血虚')
55.ann	pred:	('SYNDROME', '335', '339', '血虚肝郁')	true	('SYNDROME', '337', '339', '肝郁')
55.ann	pred:	('SYNDROME', '335', '339', '血虚肝郁')	true	('SYNDROME', '335', '337', '血虚')
85.ann	pred:	('SYMPTOM', '123', '129', '血块排出痛减')	true	('SYMPTOM', '123', '127', '血块排出')
585.ann	pred:	('DRUG_DOSAGE', '292', '295', '胶囊剂')	true	('DRUG_DOSAGE', '292', '294', '胶囊')
664.ann	pred:	('DISEASE', '36', '43', '乳腺囊性增生病')	true	('DISEASE', '36', '42', '乳腺囊性增生')
928.ann	pred:	('DISEASE', '28', '33', '慢性盆腔炎')	true	('DISEASE', '30', '33', '盆腔炎')
895.ann	pred:	('SYMPTOM', '217', '221', '红热疼痛')	true	('SYMPTOM', '219', '221', '疼痛')
895.ann	pred:	('SYMPTOM', '217', '221', '红热疼痛')	true	('SYMPTOM', '217', '219', '红热')
895.ann	pred:	('SYMPTOM', '212', '216', '乳房结块')	true	('SYMPTOM', '210', '216', '产后乳房结块')
381.ann	pred:	('DRUG_DOSAGE', '183', '186', '胶囊剂')	true	('DRUG_DOSAGE', '184', '186', '囊剂')
37.ann	pred:	('SYNDROME', '54', '58', '气虚血瘀')	true	('SYNDROME', '54', '56', '气虚')
37.ann	pred:	('SYNDROME', '54', '58', '气虚血瘀')	true	('SYNDROME', '56', '58', '血瘀')
856.ann	pred:	('DISEASE', '191', '196', '慢性盆腔炎')	true	('DISEASE', '193', '196', '盆腔炎')
216.ann	pred:	('SYNDROME', '93', '97', '肝郁气滞')	true	('SYNDROME', '93', '95', '肝郁')
216.ann	pred:	('SYNDROME', '93', '97', '肝郁气滞')	true	('SYNDROME', '95', '97', '气滞')
216.ann	pred:	('SYMPTOM', '100', '105', '面部黧黑斑')	true	('SYMPTOM', '101', '105', '部黧黑斑')
229.ann	pred:	('SYNDROME', '360', '364', '血瘀气滞')	true	('SYNDROME', '362', '364', '气滞')
229.ann	pred:	('SYNDROME', '250', '254', '血瘀气滞')	true	('SYNDROME', '252', '254', '气滞')
229.ann	pred:	('SYNDROME', '250', '254', '血瘀气滞')	true	('SYNDROME', '250', '252', '血瘀')
153.ann	pred:	('SYNDROME', '24', '28', '肝郁血虚')	true	('SYNDROME', '24', '26', '肝郁')
153.ann	pred:	('SYNDROME', '24', '28', '肝郁血虚')	true	('SYNDROME', '26', '28', '血虚')
871.ann	pred:	('DRUG_DOSAGE', '63', '66', '硬胶囊')	true	('DRUG_DOSAGE', '64', '66', '胶囊')
862.ann	pred:	('SYMPTOM', '59', '65', '乳房结节压痛')	true	('SYMPTOM', '59', '63', '乳房结节')
959.ann	pred:	('SYMPTOM', '97', '104', '小腹或乳房胀痛')	true	('SYMPTOM', '102', '104', '胀痛')
959.ann	pred:	('SYMPTOM', '31', '38', '小腹或乳房胀痛')	true	('SYMPTOM', '36', '38', '胀痛')
819.ann	pred:	('PERSON_GROUP', '249', '254', '青春期少女')	true	('PERSON_GROUP', '252', '254', '少女')
819.ann	pred:	('PERSON_GROUP', '255', '260', '更年期妇女')	true	('PERSON_GROUP', '255', '258', '更年期')
986.ann	pred:	('PERSON_GROUP', '212', '217', '过敏体质者')	true	('PERSON_GROUP', '212', '216', '过敏体质')
873.ann	pred:	('SYNDROME', '12', '16', '血虚气滞')	true	('SYNDROME', '12', '14', '血虚')
873.ann	pred:	('SYNDROME', '12', '16', '血虚气滞')	true	('SYNDROME', '14', '16', '气滞')
270.ann	pred:	('SYMPTOM', '234', '241', '子宫平滑肌收缩')	true	('SYMPTOM', '232', '241', '抑制子宫平滑肌收缩')
63.ann	pred:	('SYNDROME', '332', '336', '血虚气滞')	true	('SYNDROME', '334', '336', '气滞')
63.ann	pred:	('SYNDROME', '332', '336', '血虚气滞')	true	('SYNDROME', '332', '334', '血虚')
63.ann	pred:	('SYNDROME', '364', '368', '血虚气滞')	true	('SYNDROME', '366', '368', '气滞')
63.ann	pred:	('SYNDROME', '364', '368', '血虚气滞')	true	('SYNDROME', '364', '366', '血虚')
131.ann	pred:	('SYMPTOM', '696', '700', '恶露不行')	true	('SYMPTOM', '694', '700', '产后恶露不行')
131.ann	pred:	('SYMPTOM', '622', '626', '恶露不行')	true	('SYMPTOM', '620', '626', '产后恶露不行')
219.ann	pred:	('SYNDROME', '419', '423', '寒凝血瘀')	true	('SYNDROME', '419', '421', '寒凝')
219.ann	pred:	('SYNDROME', '419', '423', '寒凝血瘀')	true	('SYNDROME', '421', '423', '血瘀')
695.ann	pred:	('DRUG_DOSAGE', '34', '37', '胶囊剂')	true	('DRUG_DOSAGE', '34', '36', '胶囊')
221.ann	pred:	('SYNDROME', '49', '53', '气滞血瘀')	true	('SYNDROME', '49', '51', '气滞')
221.ann	pred:	('SYNDROME', '49', '53', '气滞血瘀')	true	('SYNDROME', '51', '53', '血瘀')
812.ann	pred:	('PERSON_GROUP', '151', '156', '青春期少女')	true	('PERSON_GROUP', '154', '156', '少女')
812.ann	pred:	('SYMPTOM', '54', '58', '头晕心悸')	true	('SYMPTOM', '56', '58', '心悸')
812.ann	pred:	('SYMPTOM', '54', '58', '头晕心悸')	true	('SYMPTOM', '54', '56', '头晕')
812.ann	pred:	('DRUG_DOSAGE', '426', '429', '硬胶囊')	true	('DRUG_DOSAGE', '427', '429', '胶囊')
161.ann	pred:	('DRUG_INGREDIENT', '547', '549', '陈皮')	true	('DRUG_INGREDIENT', '547', '553', '陈皮健运脾胃')
133.ann	pred:	('SYNDROME', '37', '41', '气虚血瘀')	true	('SYNDROME', '37', '39', '气虚')
933.ann	pred:	('FOOD_GROUP', '223', '225', '油腻')	true	('FOOD_GROUP', '223', '227', '油腻食物')
933.ann	pred:	('FOOD_GROUP', '217', '219', '辛辣')	true	('FOOD_GROUP', '215', '219', '忌食辛辣')
15.ann	pred:	('FOOD_GROUP', '564', '566', '油腻')	true	('FOOD_GROUP', '562', '566', '荤腥油腻')
15.ann	pred:	('FOOD_GROUP', '562', '564', '荤腥')	true	('FOOD_GROUP', '562', '566', '荤腥油腻')
15.ann	pred:	('DRUG_INGREDIENT', '516', '519', '反甘遂')	true	('DRUG_INGREDIENT', '517', '519', '甘遂')
15.ann	pred:	('FOOD_GROUP', '567', '571', '不易消化')	true	('FOOD_GROUP', '567', '573', '不易消化食品')
996.ann	pred:	('SYMPTOM', '95', '99', '带下腹痛')	true	('SYMPTOM', '97', '99', '腹痛')
996.ann	pred:	('FOOD_GROUP', '50', '52', '生冷')	true	('FOOD_GROUP', '50', '54', '生冷食物')
165.ann	pred:	('SYMPTOM', '391', '393', '尿频')	true	('SYMPTOM', '389', '393', '伴有尿频')
177.ann	pred:	('FOOD_GROUP', '20', '24', '不易消化')	true	('FOOD_GROUP', '20', '26', '不易消化食物')
104.ann	pred:	('SYNDROME', '240', '244', '肝郁气滞')	true	('SYNDROME', '242', '244', '气滞')
104.ann	pred:	('SYNDROME', '240', '244', '肝郁气滞')	true	('SYNDROME', '240', '242', '肝郁')
994.ann	pred:	('DRUG_EFFICACY', '350', '354', '杀虫止痒')	true	('DRUG_EFFICACY', '352', '354', '止痒')
994.ann	pred:	('DRUG_EFFICACY', '350', '354', '杀虫止痒')	true	('DRUG_EFFICACY', '350', '352', '杀虫')
994.ann	pred:	('SYNDROME', '389', '393', '湿热下注')	true	('SYNDROME', '389', '391', '湿热')